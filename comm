curl -X GET https://api.company.com/user -H "Authorization: Bearer YOUR_SAML_ASSERTION"


# Define the URL and the SAML assertion
$url = "https://api.company.com/user" # Replace with the actual URL
$samlAssertion = "YOUR_SAML_ASSERTION" # Replace with your actual SAML assertion

# Make the GET request with the Authorization header
$response = Invoke-RestMethod -Uri $url -Headers @{Authorization = "Bearer $samlAssertion"} -Method Get

# Display the response
$response
$response = Invoke-RestMethod -Uri $url -Headers @{Authorization = "Bearer $samlAssertion"} -Method Get -Verbose

Invoke-RestMethod : The remote server returned an error: (401) Unauthorized.
At line:1 char:13
+ $response = Invoke-RestMethod -Uri $url -Headers @{Authorization = "B ...
+             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.HttpWebRequest:HttpWebRequest) [Invoke-RestMethod], WebExc
   eption
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeRestMethodCommand
